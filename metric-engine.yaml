main:
    server_name: "idrac"
    databasepath: "file:./mr.db?_foreign_keys=on&cache=shared&mode=rwc"
    legacydatabasepath: "file:./telemetry_timeseries_database.db?_foreign_keys=on&cache=shared&mode=rwc"

listen:
  - unix:metric-engine.socket
  # enable 8080 port only for testing, as per NCC audit it needs to be disabled on the build
  - http::8081
  #  enable pprof only for debuging, it causes increased memory consumption. If memprofilerate>0, it will use way more. It's set to 0 in the service file.
  - pprof:localhost:9081
  # disable direct https listener, uncomment if needed for testing:
  # - https::8443

# Logging levels:
# debug, info, warn, error, crit
#
# The 'logs' config is an ARRAY of output configurations. Below are the valid configuration options for each config.
#
# Enabled: disable or enable this specific logger entirely.
#       DEFAULT: disabled/false
#
# FileName: Specify "FileName" to send log output from that config to a file.
#       DEFAULT: /dev/stderr
#
# Level: will globally enable all logs at the specified level or higher. Leave this out to specify on a module by module basis
#       DEFAULT: (none) - no filtering, all logs output
#
# PrintFile: append the file name and line number of the location where the log function was called
#       DEFAULT: false
#
# PrintFunction: append the name of the function that called the log function
#       DEFAULT: false
#
# ModulesToEnable is an ARRAY
#   give 'name' to specify the name of a 'module', to show all output from all log statements tagged with that module (regardless of the global log level setting)
#   give 'level' to filter the module output to the specified log level and higher.
#
logs:
    # Log warnings and Crit to stderr (everything else to log file, below)
    - Enabled: true
      Level: "warn"
      PrintFile: true
      PrintFunction: true

    # log all web server accesses
    - Enabled: false
      Level: "debug"
      FileName: "debug.log"
      PrintFile: true
      PrintFunction: true

    # (DISABLED) log stuff on a module by module basis to FILE
    - Enabled: false
      FileName: "/var/log/metric-engine.log"
      Level: "debug"
      PrintFile: true
      PrintFunction: true
      ModulesToEnable:
        # all of the loggers below support a heirarchical arrangement where
        # you can turn on debugging for all modules with (eg.)
        # "Managers/CMC.Integrated", and you can selectively enable
        # debugging for a single module by adding the full fqdd, eg.
        # "Managers/CMC.Integrated.1". For the template config, we only
        # specify the top levels
        - name: "Managers/CMC.Integrated"
          level: "crit"



